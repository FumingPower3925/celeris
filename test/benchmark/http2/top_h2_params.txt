File: bench-rampup-h2
Type: cpu
Time: 2025-10-25 17:41:50 CEST
Duration: 5.02s, Total samples = 210ms ( 4.19%)
Showing nodes accounting for 210ms, 100% of 210ms total
      flat  flat%   sum%        cum   cum%
      60ms 28.57% 28.57%       60ms 28.57%  syscall.syscall
      40ms 19.05% 47.62%       40ms 19.05%  syscall.syscall6
      20ms  9.52% 57.14%       20ms  9.52%  runtime.pthread_cond_wait
      20ms  9.52% 66.67%       20ms  9.52%  syscall.RawSyscall
      10ms  4.76% 71.43%       10ms  4.76%  bytes.(*Buffer).Write
      10ms  4.76% 76.19%       10ms  4.76%  github.com/albertbausili/celeris/internal/h2/transport.(*Connection).WriteResponse
      10ms  4.76% 80.95%       10ms  4.76%  internal/runtime/maps.NewMap
      10ms  4.76% 85.71%       10ms  4.76%  runtime.pthread_cond_signal
      10ms  4.76% 90.48%       10ms  4.76%  runtime.selectgo
      10ms  4.76% 95.24%       10ms  4.76%  runtime.traceEnabled (inline)
      10ms  4.76%   100%       10ms  4.76%  runtime.usleep
         0     0%   100%       60ms 28.57%  bufio.(*Writer).Flush
         0     0%   100%       20ms  9.52%  github.com/albertbausili/celeris/internal/h2/frame.(*Writer).Flush (inline)
         0     0%   100%       20ms  9.52%  github.com/albertbausili/celeris/internal/h2/stream.(*Processor).handleHeaders.func6
         0     0%   100%       20ms  9.52%  github.com/albertbausili/celeris/internal/h2/transport.(*Connection).HandleData
         0     0%   100%       20ms  9.52%  github.com/albertbausili/celeris/internal/h2/transport.(*Connection).WriteRSTStreamPriority
         0     0%   100%       20ms  9.52%  github.com/albertbausili/celeris/internal/h2/transport.(*Server).OnTraffic
         0     0%   100%       20ms  9.52%  github.com/albertbausili/celeris/internal/h2/transport.(*connWriter).Flush
         0     0%   100%       20ms  9.52%  github.com/albertbausili/celeris/internal/mux.(*Server).OnTraffic
         0     0%   100%       20ms  9.52%  github.com/albertbausili/celeris/pkg/celeris.(*Context).JSON
         0     0%   100%       10ms  4.76%  github.com/albertbausili/celeris/pkg/celeris.(*Context).flush
         0     0%   100%       20ms  9.52%  github.com/albertbausili/celeris/pkg/celeris.(*Router).ServeHTTP2
         0     0%   100%       20ms  9.52%  github.com/albertbausili/celeris/pkg/celeris.(*streamHandlerAdapter).HandleStream
         0     0%   100%       10ms  4.76%  github.com/albertbausili/celeris/pkg/celeris.(*streamHandlerAdapter).HandleStream.func1
         0     0%   100%       20ms  9.52%  github.com/albertbausili/celeris/pkg/celeris.HandlerFunc.ServeHTTP2
         0     0%   100%       20ms  9.52%  github.com/panjf2000/gnet/v2.(*conn).AsyncWritev
         0     0%   100%       20ms  9.52%  github.com/panjf2000/gnet/v2.(*conn).asyncWritev
         0     0%   100%       20ms  9.52%  github.com/panjf2000/gnet/v2.(*conn).processIO
         0     0%   100%       20ms  9.52%  github.com/panjf2000/gnet/v2.(*conn).writev
         0     0%   100%       50ms 23.81%  github.com/panjf2000/gnet/v2.(*eventloop).orbit
         0     0%   100%       20ms  9.52%  github.com/panjf2000/gnet/v2.(*eventloop).read
         0     0%   100%       20ms  9.52%  github.com/panjf2000/gnet/v2/pkg/io.Writev
         0     0%   100%       50ms 23.81%  github.com/panjf2000/gnet/v2/pkg/netpoll.(*Poller).Polling
         0     0%   100%       20ms  9.52%  github.com/panjf2000/gnet/v2/pkg/netpoll.(*Poller).Trigger
         0     0%   100%       20ms  9.52%  github.com/panjf2000/gnet/v2/pkg/netpoll.(*Poller).wakePoller
         0     0%   100%       60ms 28.57%  golang.org/x/net/http2.(*ClientConn).writeHeaders
         0     0%   100%       70ms 33.33%  golang.org/x/net/http2.(*clientStream).doRequest
         0     0%   100%       60ms 28.57%  golang.org/x/net/http2.(*clientStream).encodeAndWriteHeaders
         0     0%   100%       70ms 33.33%  golang.org/x/net/http2.(*clientStream).writeRequest
         0     0%   100%       60ms 28.57%  golang.org/x/net/http2.stickyErrWriter.Write
         0     0%   100%       60ms 28.57%  golang.org/x/net/http2.writeWithByteTimeout
         0     0%   100%       50ms 23.81%  golang.org/x/sync/errgroup.(*Group).Go.func1
         0     0%   100%       30ms 14.29%  golang.org/x/sys/unix.Kevent
         0     0%   100%       30ms 14.29%  golang.org/x/sys/unix.kevent
         0     0%   100%       60ms 28.57%  internal/poll.(*FD).Write
         0     0%   100%       60ms 28.57%  internal/poll.ignoringEINTRIO (inline)
         0     0%   100%       10ms  4.76%  internal/syscall/unix.Getaddrinfo
         0     0%   100%       10ms  4.76%  main.rampUpTest.func1
         0     0%   100%       20ms  9.52%  main.startCelerisHTTP2.func3
         0     0%   100%       60ms 28.57%  net.(*conn).Write
         0     0%   100%       60ms 28.57%  net.(*netFD).Write
         0     0%   100%       10ms  4.76%  net._C_getaddrinfo (inline)
         0     0%   100%       10ms  4.76%  net.cgoLookupHostIP
         0     0%   100%       10ms  4.76%  net.cgoLookupIP.func1
         0     0%   100%       10ms  4.76%  net.doBlockingWithCtx[go.shape.[]net.IPAddr].func1
         0     0%   100%       10ms  4.76%  net/http.(*Client).Do (inline)
         0     0%   100%       10ms  4.76%  net/http.(*Client).do
         0     0%   100%       10ms  4.76%  net/http.(*Client).makeHeadersCopier
         0     0%   100%       10ms  4.76%  net/http.Header.Clone (inline)
         0     0%   100%       10ms  4.76%  net/http.cloneOrMakeHeader
         0     0%   100%       10ms  4.76%  runtime.(*sweepLocked).sweep
         0     0%   100%       10ms  4.76%  runtime.bgsweep
         0     0%   100%       30ms 14.29%  runtime.findRunnable
         0     0%   100%       20ms  9.52%  runtime.mPark (inline)
         0     0%   100%       10ms  4.76%  runtime.makemap
         0     0%   100%       40ms 19.05%  runtime.mcall
         0     0%   100%       20ms  9.52%  runtime.notesleep
         0     0%   100%       10ms  4.76%  runtime.notewakeup
         0     0%   100%       40ms 19.05%  runtime.park_m
         0     0%   100%       10ms  4.76%  runtime.resetspinning
         0     0%   100%       10ms  4.76%  runtime.runqgrab
         0     0%   100%       10ms  4.76%  runtime.runqsteal
         0     0%   100%       40ms 19.05%  runtime.schedule
         0     0%   100%       20ms  9.52%  runtime.semasleep
         0     0%   100%       10ms  4.76%  runtime.semawakeup
         0     0%   100%       10ms  4.76%  runtime.startm
         0     0%   100%       10ms  4.76%  runtime.stealWork
         0     0%   100%       20ms  9.52%  runtime.stopm
         0     0%   100%       10ms  4.76%  runtime.sweepone
         0     0%   100%       10ms  4.76%  runtime.traceAcquire (inline)
         0     0%   100%       10ms  4.76%  runtime.wakep
         0     0%   100%       60ms 28.57%  syscall.Write (inline)
         0     0%   100%       60ms 28.57%  syscall.write
